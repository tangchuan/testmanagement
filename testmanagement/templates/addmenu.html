{% extends './base.html' %}
{% load static %}

{% block title %}
    测试管理系统 | 新增菜单
{% endblock title %}
{% block content %}
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>新增菜单</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="/index.html">首页</a>
                </li>
                <li>
                    <strong>菜单列表</strong>
                </li>
                <li class="active">
                    <strong>新增菜单</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">

        </div>
    </div>
    <div class="row">
        <div class="col-lg-4">
            <div class="ibox-content">
                {% if errors %}
                    {% for error in errors %}
                        <div class="alert alert-danger alert-dismissable">
                            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                            {{ error }}
                        </div>
                    {% endfor %}
                {% endif %}
                <form method="post" class="form-horizontal" id="form">
                    {% csrf_token %}
                    <div class="form-group"><label class="col-sm-4 control-label">菜单名：</label>
                        <div class="col-sm-8">
                            <input type="text" placeholder="请输入菜单名称" name="title" value="{{ menu.title }}"
                                   class="form-control" required>
                        </div>
                    </div>
                    <div class="hr-line-dashed"></div>
                    <div class="form-group"><label class="col-sm-4 control-label">菜单图标：</label>
                        <div class="col-sm-8">
                            <input id="icon" type="text" placeholder="请输入图标" class="form-control" name="icon" value="{{ menu.icon }}"
                                   required>
                            <span class="help-block m-b-none">注：请在右边点击你想要添加的图标</span>
                        </div>
                    </div>
                    <div class="hr-line-dashed"></div>
                    <div class="form-group"><label class="col-sm-4 control-label">优先级：</label>
                        <div class="col-sm-8">
                            <input id="priority" type="text" placeholder="请输入优先级" class="form-control" name="priority"
                                   value="{{ menu.priority }}" required>
                        </div>
                    </div>
                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <div class="col-sm-8 col-sm-offset-3">
                            <button class="btn btn-white" type="button" id="cancel">返回</button>
                            <button class="btn btn-primary" type="submit">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="ibox float-e-margins">

                <div class="ibox-content icons-box">
                    <div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-th-large')"><i class="fa fa-th-large"></i>
                            fa-th-large</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-diamond')"><i class="fa fa-diamond"></i>
                            fa-diamond</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-bar-chart-o')"><i class="fa fa-bar-chart-o"></i>
                            fa-bar-chart-o</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-envelope')"><i class="fa fa-envelope"></i>
                            fa-envelope</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-pie-chart')"><i class="fa fa-pie-chart"></i>
                            fa-pie-chart</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-flask')"><i class="fa fa-flask"></i>
                            fa-flask</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-edit')"><i class="fa fa-edit"></i>
                            fa-edit</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-desktop')"><i class="fa fa-desktop"></i>
                            fa-desktop</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-files-o')"><i class="fa fa-files-o"></i>
                            fa-files-o</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-globe')"><i class="fa fa-globe"></i>
                            fa-globe</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-laptop')"><i class="fa fa-laptop"></i>
                            fa-laptop</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-table')"><i class="fa fa-table"></i>
                            fa-table</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-shopping-cart')"><i class="fa fa-shopping-cart"></i>
                            fa-shopping-cart</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-picture-o')"><i class="fa fa-picture-o"></i>
                            fa-picture-o</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-sitemap')"><i class="fa fa-sitemap"></i>
                            fa-sitemap</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-database')"><i class="fa fa-database"></i>
                            fa-database</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-meanpath')"><i class="fa fa-meanpath"></i>
                            fa-meanpath</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-film')"><i class="fa fa-film"></i>
                            fa-film</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-gear')"><i class="fa fa-gear"></i>
                            fa-gear</a></div>
                        <div class="infont col-md-3 col-sm-4"><a  onclick="geticon('fa-keyboard-o')"><i class="fa fa-keyboard-o"></i>
                            fa-keyboard-o</a></div>

                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
{% block script %}
    <!-- Jquery Validate -->
    <script src="{% static 'js/plugins/validate/jquery.validate.min.js' %}"></script>

    <script>
        $(document).ready(function () {
            $("#form").validate({
                rules: {
                    title: {
                        required: true,
                        maxlength: 6
                    },
                    icon: {
                        required: true,
                        rangelength: [2, 20],
                    },
                    priority: {
                        required: true,
                        digits: true,
                        maxlength: 6
                    }
                }
            });
        });
        $(document).ready(function () {
            $("#cancel").click(function () {
                history.go(-1);
            })
        })
    </script>
    <script>
        function geticon(icon) {
            document.getElementById("icon").value=icon;
        }
    </script>
{% endblock %}